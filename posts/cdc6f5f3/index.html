<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/KiyanYang/Source/img/blog/favicon.webp"><link rel="icon" href="https://cdn.jsdelivr.net/gh/KiyanYang/Source/img/blog/favicon.webp"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="æ¨å¯"><meta name="keywords" content="KiyanYang,Blog,æ¨å¯,åšå®¢"><meta name="description" content="æœ¬æ–‡ç« é€šè¿‡ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å°†åšå®¢æºæ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pagesã€‚æ­¤å¤–è¿˜å¯ä»¥åœ¨ Actions ä¸­ä¸»åŠ¨è°ƒç”¨ Cloudflare Pagesï¼Œæ¥é¿å…ä¸€äº›ä¸å¿…è¦çš„éƒ¨ç½²ã€‚"><meta property="og:type" content="article"><meta property="og:title" content="ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢"><meta property="og:url" content="https://kiyanyang.github.io/posts/cdc6f5f3/index.html"><meta property="og:site_name" content="KiyanYang&#39;s Blog"><meta property="og:description" content="æœ¬æ–‡ç« é€šè¿‡ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å°†åšå®¢æºæ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pagesã€‚æ­¤å¤–è¿˜å¯ä»¥åœ¨ Actions ä¸­ä¸»åŠ¨è°ƒç”¨ Cloudflare Pagesï¼Œæ¥é¿å…ä¸€äº›ä¸å¿…è¦çš„éƒ¨ç½²ã€‚"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/KiyanYang/Source/img/blog/2021/cdc6f5f3/settings-secrets.webp"><meta property="article:published_time" content="2021-12-18T11:17:06.000Z"><meta property="article:modified_time" content="2021-12-18T11:17:06.000Z"><meta property="article:author" content="æ¨å¯"><meta property="article:tag" content="æ•™ç¨‹"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="GitHub Actions"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/KiyanYang/Source/img/blog/2021/cdc6f5f3/settings-secrets.webp"><title>ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢ - KiyanYang&#39;s Blog</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"kiyanyang.github.io",root:"/",version:"1.8.14",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"Bz9enXFNGc4BDqd2Cl0YBBJc-MdYXbMMI",app_key:"MDw2QPrMBy69uTBGMvpcsYzW",server_url:null,path:"window.location.pathname",ignore_local:!0}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.0.0"></head><body><header style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>KiyanYang&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="fas fa-home"></i> é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="fas fa-archive"></i> å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="fas fa-layer-group"></i> åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="fas fa-tags"></i> æ ‡ç­¾</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="fas fa-user"></i> å…³äº</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="fas fa-link"></i> å‹é“¾</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" rel="external nofollow noreferrer" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-th"></i> æ›´å¤š</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" target="_blank" rel="noopener external nofollow noreferrer" href="https://blog-waline-one-lovat.vercel.app/ui"><i class="fas fa-comment-alt"></i> è¯„è®ºç®¡ç† </a><a class="dropdown-item" href="/extras/game"><i class="fas fa-gamepad"></i> å°æ¸¸æˆ </a><a class="dropdown-item" href="/extras/apps"><i class="fas fa-th-large"></i> åº”ç”¨</a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" rel="external nofollow noreferrer" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" rel="external nofollow noreferrer" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢"></span><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> æ¨å¯ </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-12-18 19:17" pubdate>2021å¹´12æœˆ18æ—¥ æ™šä¸Š</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.4k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 10 åˆ†é’Ÿ </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> æ¬¡</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½² Hexo åšå®¢</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š15 å¤©å‰</p><div class="markdown-body"><p>æœ¬æ–‡ç« é€šè¿‡ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å°†åšå®¢æºæ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pagesã€‚æ­¤å¤–è¿˜å¯ä»¥åœ¨ Actions ä¸­ä¸»åŠ¨è°ƒç”¨ Cloudflare Pagesï¼Œæ¥é¿å…ä¸€äº›ä¸å¿…è¦çš„éƒ¨ç½²ã€‚</p><span id="more"></span><h2 id="å‰ç½®æ¡ä»¶"><a class="markdownIt-Anchor" href="#å‰ç½®æ¡ä»¶"></a> å‰ç½®æ¡ä»¶</h2><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/">GitHub</a> è´¦å·</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.cloudflare.com/zh-cn/">Cloudflare</a> è´¦å·</li><li>Hexo åšå®¢æºæ–‡ä»¶</li></ul><h2 id="åˆ›å»º-github-pages"><a class="markdownIt-Anchor" href="#åˆ›å»º-github-pages"></a> åˆ›å»º GitHub Pages</h2><p>è¿™é‡Œç®€è¦æè¿°ä¸€ä¸‹æ­¥éª¤ï¼š</p><ul><li>æ–°å»ºä»“åº“ <code>&lt;user&gt;.github.io</code>ï¼Œå¦‚æœç”¨æˆ·ååŒ…å«å¤§å†™å­—æ¯ï¼Œåˆ™å¿…é¡»æ”¹ä¸ºå°å†™å­—æ¯ã€‚</li><li>é€‰æ‹©ä»“åº“å¯è§æ€§ä¸º <code>public</code>ã€‚</li><li>é€‰æ‹© Initialize this repository with a READMEï¼ˆä½¿ç”¨è‡ªè¿°æ–‡ä»¶åˆå§‹åŒ–æ­¤ä»“åº“ï¼‰ã€‚</li><li>å•å‡» Create repositoryï¼ˆåˆ›å»ºä»“åº“ï¼‰ã€‚</li></ul><p>è¯¦ç»†æ­¥éª¤å¯ä»¥æŸ¥çœ‹ GitHub æ–‡æ¡£â€œ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.github.com/cn/pages/getting-started-with-github-pages">åˆ›å»º GitHub Pages ç«™ç‚¹</a>â€ã€‚</p><h2 id="åˆ›å»ºåšå®¢æºä»£ç ä»“åº“"><a class="markdownIt-Anchor" href="#åˆ›å»ºåšå®¢æºä»£ç ä»“åº“"></a> åˆ›å»ºåšå®¢æºä»£ç ä»“åº“</h2><p>æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>åœ¨ <code>&lt;user&gt;.gitbub.io</code> ä»“åº“ï¼ˆå³ä¸Šé¢åˆ›å»ºçš„ GitHub Pages ç«™ç‚¹ä»“åº“ï¼‰ï¼Œæ–°å»ºåˆ†æ”¯ <code>source</code>ï¼Œç„¶åå°†åšå®¢æºæ–‡ä»¶ä¸Šä¼ è‡³æ­¤åˆ†æ”¯ã€‚</li><li>æ–°å»ºä»“åº“ï¼ˆæ­¤ä»“åº“çš„å¯è§æ€§å¯ä»¥è®¾ä¸º <code>private</code>ï¼‰ï¼Œåç§°ä»»æ„ï¼Œæ¯”å¦‚ <code>&lt;user&gt;.gitbub.io.source</code>ï¼Œç„¶åå°†åšå®¢æºæ–‡ä»¶ä¸Šä¼ è‡³æ­¤åˆ†æ”¯ã€‚</li></ol><p>æˆ‘é€‰æ‹©äº†ç¬¬äºŒç§æ–¹å¼ï¼ˆå› ä¸ºæºä»“åº“å¯ä»¥è®¾ä¸º <code>private</code>ï¼‰ï¼Œåç»­ä»£ç ä¹Ÿä¾æ®ç¬¬äºŒç§æ–¹å¼ï¼Œä¸è¿‡å¯ä»¥å¾ˆå®¹æ˜“ä¿®æ”¹å¾—åˆ°ç¬¬ä¸€ç§æ–¹å¼çš„ä»£ç ã€‚</p><h2 id="ç¼–å†™-github-actions"><a class="markdownIt-Anchor" href="#ç¼–å†™-github-actions"></a> ç¼–å†™ GitHub Actions</h2><p>è¿™é‡Œä»…ç®€å•è®²è¿°ä¸€ä¸‹ç›¸å…³çš„å†…å®¹ï¼Œæ›´å¤šå…³äº GitHub Actions çš„å†…å®¹è¯·æŸ¥çœ‹â€œ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.github.com/cn/actions">å®˜æ–¹æ–‡æ¡£</a>â€ç­‰ã€‚</p><p>åœ¨ Hexo æºæ–‡ä»¶çš„æ ¹ç›®å½•ï¼Œæ–°å»º <code>.github/workflows/&lt;fileName&gt;.yml</code> æ–‡ä»¶ï¼Œæ–‡ä»¶åä»»æ„ï¼Œæ¯”å¦‚ <code>deploy-pages</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># ä»»åŠ¡åç§°ï¼šä»»æ„</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Blog</span> <span class="hljs-string">Pages</span><br><br><span class="hljs-comment"># è§¦å‘æ¡ä»¶</span><br><span class="hljs-attr">on:</span><br>  <span class="hljs-comment"># pushï¼Œä¹Ÿå°±æ˜¯æ¨é€åˆ°ä»“åº“æ—¶æ‰æ‰§è¡Œä»»åŠ¡</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-comment"># åˆ†æ”¯ï¼Œè¿™é‡Œé€‰æ‹© mainï¼Œä¹Ÿå°±æ˜¯åªæœ‰æ¨é€åˆ° main åˆ†æ”¯æ—¶æ‰æ‰§è¡Œä»»åŠ¡ã€å¯é€‰ã€‘</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>    <span class="hljs-comment"># å¿½ç•¥è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯å½“åªæœ‰è¿™äº›è·¯å¾„å‘ç”Ÿå˜æ›´æ—¶ä¸ä¼šæ‰§è¡Œä»»åŠ¡ï¼Œã€å¯é€‰ã€‘</span><br>    <span class="hljs-attr">paths-ignore:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;.github/**&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;scaffolds/**&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;source/_drafts/**&quot;</span><br><br><span class="hljs-comment"># ä»»åŠ¡</span><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-comment"># ä»»åŠ¡åç§°ï¼Œä»»æ„</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-comment"># æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-comment"># æ‹‰å–</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸ“¦</span> <span class="hljs-string">Checkout</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br><br>      <span class="hljs-comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸ”§</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          npm ci</span><br><span class="hljs-string">          npm run build</span><br><span class="hljs-string"></span>        <span class="hljs-comment"># å¦‚æœé‡‡ç”¨ yarn è¿›è¡ŒåŒ…ç®¡ç†ï¼Œåˆ™ä½¿ç”¨ä¸‹é¢çš„ä»£ç </span><br>        <span class="hljs-comment">#  yarn</span><br>        <span class="hljs-comment">#  yarn build</span><br><br>      <span class="hljs-comment"># éƒ¨ç½²åˆ° GitHub Pages</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸš€</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-comment"># GitHub çš„ Personal access tokens</span><br>          <span class="hljs-attr">token:</span> <span class="hljs-string">$&#123;&#123;secrets.PAT&#125;&#125;</span><br>          <span class="hljs-comment"># æ›´æ¢ä¸ºè‡ªå·±çš„ &lt;user&gt;/&lt;user&gt;.github.io</span><br>          <span class="hljs-attr">repository-name:</span> <span class="hljs-string">kiyanyang/kiyanyang.github.io</span><br>          <span class="hljs-comment"># è¦éƒ¨ç½²åˆ°çš„åˆ†æ”¯</span><br>          <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-comment"># ä¸Šä¸€æ­¥ç”Ÿæˆçš„é™æ€æ–‡ä»¶çš„åœ°å€</span><br>          <span class="hljs-attr">folder:</span> <span class="hljs-string">public</span><br></code></pre></td></tr></table></figure><p>åœ¨â€œğŸš€ Deployâ€æ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Marketplace Actions ä¸­çš„â€œ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/marketplace/actions/deploy-to-github-pages">Deploy to GitHub Pages</a>â€æ¥éƒ¨ç½²åˆ° GitHub Pagesã€‚</p><p>åœ¨â€œ<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/settings/tokens">Personal access tokens</a>â€é¡µé¢ç‚¹å‡»å³ä¸Šè§’çš„ <code>Generate new token</code> æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ tokenï¼Œåœ¨ç”Ÿæˆé¡µé¢çš„ <code>Select scopes</code> ä¸­é€‰æ‹© <code>workflow</code>ã€‚ä¸»è¦å°†ç”Ÿæˆçš„ token ä¿å­˜å¥½ï¼Œå› ä¸ºåªä¼šåœ¨ç”Ÿæˆæ—¶æ˜¾ç¤ºä¸€æ¬¡ï¼Œä¹‹åå°†æ— æ³•æŸ¥çœ‹ã€‚</p><p>åœ¨åšå®¢æºæ–‡ä»¶ä»“åº“çš„è®¾ç½®ä¸­ç‚¹å‡»æ‰“å¼€ Secrets é¡µé¢ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/KiyanYang/Source/img/blog/2021/cdc6f5f3/settings-secrets.webp" srcset="/img/loading.gif" lazyload alt="Settings-Secrets"></p><p>ç‚¹å‡»å³ä¸Šè§’ <code>new repository secret</code> æŒ‰é’®æ¥æ–°å»ºç¯å¢ƒå˜é‡ã€‚</p><ul><li>å˜é‡çš„åç§°ä¸º <code>PAT</code>ï¼ˆä¹Ÿå¯ä»¥ä¸ºå…¶ä»–åç§°ï¼Œä½†æ˜¯è¦å’Œâ€œğŸš€ Deployâ€æ­¥éª¤ä¸­çš„ <code>token</code> çš„å€¼å†…å˜é‡ä¿æŒä¸€è‡´ï¼Œä¹Ÿå³ <code>$&#123;&#123;secrets.<secret name>&#125;&#125;</secret></code>ï¼‰ã€‚</li><li>å˜é‡çš„å†…å®¹ä¸ºä¸Šé¢ç”Ÿæˆçš„â€œPersonal access tokensâ€ã€‚</li></ul><p>è‡³æ­¤ä½¿ç”¨ GitHub Actions è‡ªåŠ¨å°†åšå®¢æºæ–‡ä»¶éƒ¨ç½²åˆ° GitHub Pages å°±å®Œæˆäº†ï¼Œå°†è‡ªå·±å°†æºæ–‡ä»¶ä¸Šä¼ æŸ¥çœ‹æ•ˆæœã€‚</p><h2 id="éƒ¨ç½²-cloudflare-pages"><a class="markdownIt-Anchor" href="#éƒ¨ç½²-cloudflare-pages"></a> éƒ¨ç½² Cloudflare Pages</h2><p>ç‚¹å‡» <a target="_blank" rel="noopener external nofollow noreferrer" href="https://pages.cloudflare.com">Cloudflare Pages</a>ï¼Œè½¬åˆ° <code>Pages</code>ï¼ˆé¡µé¢ï¼‰&gt; <code>Create a project</code>ï¼ˆåˆ›å»ºé¡¹ç›®ï¼‰ã€‚</p><ol><li>é€‰æ‹© GitHub ä¸Šä½ çš„åšå®¢æºæ–‡ä»¶ä»“åº“ã€‚</li><li>é…ç½®å’Œéƒ¨ç½²<ul><li>Project nameï¼ˆé¡¹ç›®åç§°ï¼‰ï¼šä»»æ„ï¼Œæ­¤åç§°å³ä¸º Cloudflare Pages çš„å‰ç¼€ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ kiyanyangã€‚</li><li>Production branchï¼ˆç”Ÿäº§åˆ†æ”¯ï¼‰ï¼šä¸€èˆ¬ä¸º <code>main</code> æˆ– <code>master</code>ï¼Œä¹Ÿå°±æ˜¯ä½ åšå®¢æºæ–‡ä»¶æ‰€å¤„çš„åˆ†æ”¯ã€‚</li><li>Framework persetï¼ˆæ¡†æ¶é¢„è®¾ï¼‰ï¼šé€‰æ‹© <code>None</code>ã€‚</li><li>Build commandï¼ˆæ„å»ºå‘½ä»¤ï¼‰ï¼š<code>npm run build</code> æˆ– <code>yarn build</code> æŒ‰éœ€é€‰æ‹©ä¸€ä¸ªã€‚</li><li>Build output directoryï¼ˆæ„å»ºè¾“å‡ºç›®å½•ï¼‰ï¼š<code>public</code>ã€‚</li></ul></li><li>ç‚¹å‡»éƒ¨ç½²è¿›è¡Œç¬¬ä¸€æ¬¡éƒ¨ç½²ã€‚</li></ol><p>éƒ¨ç½²å®Œæˆåæ‰“å¼€ç½‘ç«™æŸ¥çœ‹æ•ˆæœã€‚</p><h2 id="åœ¨-github-actions-ä¸­ä½¿ç”¨-cloudflare-pages-éƒ¨ç½²æŒ‚é’©"><a class="markdownIt-Anchor" href="#åœ¨-github-actions-ä¸­ä½¿ç”¨-cloudflare-pages-éƒ¨ç½²æŒ‚é’©"></a> åœ¨ GitHub Actions ä¸­ä½¿ç”¨ Cloudflare Pages éƒ¨ç½²æŒ‚é’©</h2><p>åœ¨ Cloudflare Pages é¡¹ç›®çš„â€œè®¾ç½® &gt; æ„å»ºä¸éƒ¨ç½² &gt; è‡ªåŠ¨ git éƒ¨ç½²â€å¯ä»¥çœ‹åˆ°ï¼Œæ¯å½“å‘ç”Ÿæ–°çš„æäº¤éƒ½ä¼šè§¦å‘è‡ªåŠ¨éƒ¨ç½²ï¼ˆæ— è®ºåšå®¢æºä»“åº“çš„å“ªä¸€åˆ†æ”¯ï¼‰ï¼Œè€Œ Cloudflare æ¯æœˆåªæä¾›äº† 500 æ¬¡å…è´¹éƒ¨ç½²ï¼Œä¸ºäº†å°½å¯èƒ½åˆç†ä½¿ç”¨éƒ¨ç½²ï¼Œæˆ‘ä»¬å¯ä»¥å…³æ‰è‡ªåŠ¨éƒ¨ç½²ï¼Œå¼€å¯éƒ¨ç½²æŒ‚é’©ï¼Œå¹¶ä½¿ç”¨ GitHub Actions æ¥è¯·æ±‚éƒ¨ç½²ã€‚</p><ol><li><p>åœ¨â€œè®¾ç½® &gt; æ„å»ºä¸éƒ¨ç½²â€</p><ul><li>è‡ªåŠ¨ git éƒ¨ç½²ï¼šç‚¹å‡»â€œæš‚åœéƒ¨ç½²â€ï¼Œæ¥å…³é—­è‡ªåŠ¨éƒ¨ç½²ã€‚</li><li>éƒ¨ç½²æŒ‚é’©ï¼šç‚¹å‡»â€œæ·»åŠ éƒ¨ç½²æŒ‚é’©â€ï¼ŒæŒ‚é’©åç§°ä»»æ„ã€‚</li></ul></li><li><p>åœ¨ä¸Šé¢çš„ GitHub Actions ä¸­æ–°å¢æ­¥éª¤ï¼š</p><p>æ³¨æ„å°†é“¾æ¥æ›¿æ¢ä¸ºè‡ªå·±çš„æŒ‚é’©é“¾æ¥ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸš€</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Cloudflare</span> <span class="hljs-string">Pages</span><br>  <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br>    <span class="hljs-string">curl</span> <span class="hljs-string">-X</span> <span class="hljs-string">POST</span> <span class="hljs-string">&quot;https://api.cloudflare.com/...&quot;</span><br></code></pre></td></tr></table></figure></li></ol><p>è¿™æ ·çš„è¯ï¼Œå½“ GitHub Pages æ‰§è¡Œéƒ¨ç½²æ—¶ï¼Œä¹Ÿä¼šæ‰§è¡Œ Cloudflare Pages çš„éƒ¨ç½²ï¼Œä¸ä»…ä¿è¯äº†ç«™ç‚¹å†…å®¹çš„ç»Ÿä¸€ï¼Œä¹Ÿå‡å°‘äº†ä¸€äº›ä¸å¿…è¦çš„æ„å»ºã€‚</p><p>æœ€ç»ˆçš„ GitHub Actions å‚è€ƒå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Blog</span> <span class="hljs-string">Pages</span><br><br><span class="hljs-comment"># è§¦å‘æ¡ä»¶</span><br><span class="hljs-attr">on:</span><br>  <span class="hljs-attr">push:</span><br>    <span class="hljs-attr">branches:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">main</span><br>    <span class="hljs-attr">paths-ignore:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;.github/**&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;scaffolds/**&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;source/_drafts/**&quot;</span><br><br><span class="hljs-comment"># ä»»åŠ¡</span><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-attr">build-and-deploy:</span><br>    <span class="hljs-comment"># æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ Ubuntu</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>      <span class="hljs-comment"># éƒ¨ç½²åˆ° Cloudflare Pages</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸš€</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Cloudflare</span> <span class="hljs-string">Pages</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          curl -X POST &quot;https://api.cloudflare.com/...&quot;</span><br><span class="hljs-string"></span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸ“¦</span> <span class="hljs-string">Checkout</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span><br><br>      <span class="hljs-comment"># ç”Ÿæˆé™æ€æ–‡ä»¶</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸ”§</span> <span class="hljs-string">Install</span> <span class="hljs-string">and</span> <span class="hljs-string">Build</span><br>        <span class="hljs-attr">run:</span> <span class="hljs-string">|</span><br><span class="hljs-string">          yarn</span><br><span class="hljs-string">          yarn build</span><br><span class="hljs-string"></span><br>      <span class="hljs-comment"># éƒ¨ç½²åˆ° GitHub Pages</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ğŸš€</span> <span class="hljs-string">Deploy</span><br>        <span class="hljs-attr">uses:</span> <span class="hljs-string">JamesIves/github-pages-deploy-action@releases/v4</span><br>        <span class="hljs-attr">with:</span><br>          <span class="hljs-attr">token:</span> <span class="hljs-string">$&#123;&#123;secrets.PAT&#125;&#125;</span><br>          <span class="hljs-attr">repository-name:</span> <span class="hljs-string">KiyanYang/KiyanYang.github.io</span><br>          <span class="hljs-attr">branch:</span> <span class="hljs-string">main</span><br>          <span class="hljs-attr">folder:</span> <span class="hljs-string">public</span><br></code></pre></td></tr></table></figure></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/">å­¦ä¹ ä¹‹è·¯</a> <a class="hover-with-bg" href="/categories/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a> <a class="hover-with-bg" href="/tags/Hexo/">Hexo</a> <a class="hover-with-bg" href="/tags/GitHub-Actions/">GitHub Actions</a></div></div><p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p><div class="post-prevnext"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/posts/277e1260/"><span class="hidden-mobile">Hexo-Fluid åœ¨ç›®å½•çš„æ ‡é¢˜å‰å¢åŠ å°ç«–æ¡</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="waline"></div><script type="text/javascript">Fluid.utils.loadComments("#waline",(function(){Fluid.utils.createScript("https://cdn.jsdelivr.net/npm/@waline/client@1/dist/Waline.min.js",(function(){var i=Object.assign({serverURL:"https://blog-waline-kiyanyang.vercel.app/",path:"window.location.pathname",placeholder:"è¯„è®ºçš„æ—¶å€™ï¼Œç•™ä¸‹åœ¨ Libravatar ä¸Šæ³¨å†Œçš„é‚®ç®±å³å¯æ˜¾ç¤ºå¤´åƒå“¦ã€‚\næ¬¢è¿è¯„è®ºğŸ‰ğŸ‰ğŸ‰\n",meta:["nick","mail"],requiredMeta:[],lang:"zh-CN",emoji:["https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili","https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],dark:'html[data-user-color-scheme="dark"]',avatar:"retro",avatarCDN:"https://seccdn.libravatar.org/avatar/",avatarForce:!1,wordLimit:[2,512],pageSize:10,highlight:!0,uploadImage:!1},{el:"#waline",path:window.location.pathname});new Waline(i),Fluid.utils.waitElementVisible("#waline .vcontent",()=>{Fluid.plugins.initFancyBox("#waline .vcontent img:not(.vemoji)")})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div style="font-size:.85rem"><span id="website-duration">è½½å…¥ç½‘ç«™è¿è¡Œæ—¶é—´...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none"><i class="fas fa-eye"></i> <span id="leancloud-site-pv"></span> </span><span id="leancloud-site-uv-container" style="display:none"><i class="fas fa-users"></i> <span id="leancloud-site-uv"></span></span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/local-search.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/code-language.js"></script><script src="/js/boot.js"></script><script src="/js/background-caidai.js"></script><link rel="stylesheet" href="/css/kiyan-fluid.css"></body></html>